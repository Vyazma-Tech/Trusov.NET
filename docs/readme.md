## Пользователь

Сущность пользователя хранит *id telegram* аккаунта,
валидация которого происходит в отдельном объекте-зачении `TelegramId`.
В конструкторе дата создания и *telegram id* проверяются на `null`. После чего создаётся
событие `UserRegisteredDomainEvent`.

## Очередь и заказ
Каждая **очередь** содержит список **заказов**.
В ответ на событие `WeekEndedDomainEvent` в конце каждой недели создаются **7 пустых** очередей.
Встать можно только в ту очередь (добавить заказ) - `OrderCreatedDomainEvent`,
дата которой позже или равна сегодняшнему дню. А также в очереди должно быть место.
**Количество мест** в очереди регулируется при создании. Но также можно увеличить
это количество через отдельный метод `IncreaseCapacity`. `Capacity` &mdash; объект-значение,
его инвариант - положительное числовое значение.

Админ сам выбирает время, в которое пользователь приносит заказ.
Заказ можно оплатить и продлить. Каждое из этих действий создаёт событие -
`OrderPaidDomainEvent` и `OrderProlongedDomainEvent`. Когда заказ готов, его состояние
можно изменить с помощью метода - `MakeReady`, событие: `OrderReadyDomainEvent`.
Если заказ уже оплачен или готов, то при повторном выполнении этих операций
исключение оборачивается в `Result`, описывающий бинарный ответ:

- Успех &mdash; возвращается инстанс оплаченного заказа.
- Неудача &mdash; возвращается `DomainException`

При создании заказа, передаётся ссылка на пользователя
и очередь, в которую надо закинуть заказ. Важный момент &mdash; при передачи очереди в
конструктор, в неё добавляется созданный заказ.

## Подписка
Подписаться можно на свой заказ. При подписке на заказ ( `UserSubscribedDomainEvent` ),
в подписку так же передаётся информация об очереди. При создании подписки
мы получаем информацию о пользователе. Есть также операция отписки &mdash; удаление
заказа из списка. Когда количество заказов достигает нулевого значения мы обнуляем очередь.